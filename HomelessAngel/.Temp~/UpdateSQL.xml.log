[24 May 2016 22:25:00] DEBUG Executing SQL script
[24 May 2016 22:25:00] INFO ================================================================================
[24 May 2016 22:25:00] INFO outputPath= '/Users/nicolascarraggi/Documents/Vub/2eMa/Web_engineering_-_Document/Assignments/3/HomelessAngel/HomelessAngel/.Temp~/UpdateSQL.xml'
[24 May 2016 22:25:00] INFO onError= 'stop'
[24 May 2016 22:25:00] INFO statementSeparator= ';'
[24 May 2016 22:25:00] INFO derby.system.home= '/Users/nicolascarraggi/Documents/Vub/2eMa/Web_engineering_-_Document/Assignments/3/HomelessAngel/.metadata/.plugins/com.webratio.commons.db/derby'
[24 May 2016 22:25:00] INFO password= 'admin'
[24 May 2016 22:25:00] INFO url= 'jdbc:mysql://localhost:3306/homelessangel_db'
[24 May 2016 22:25:00] INFO username= 'homelessangel_admin'
[24 May 2016 22:25:00] INFO autoCommit= 'false'
[24 May 2016 22:25:00] INFO outputLogPath= '/Users/nicolascarraggi/Documents/Vub/2eMa/Web_engineering_-_Document/Assignments/3/HomelessAngel/HomelessAngel/.Temp~/UpdateSQL.xml.log'
[24 May 2016 22:25:00] INFO driverClass= 'com.mysql.jdbc.Driver'
[24 May 2016 22:25:00] INFO encoding= ''
[24 May 2016 22:25:00] INFO eventSocketPort= '60898'
[24 May 2016 22:25:00] INFO sqlScript= '/Users/nicolascarraggi/Documents/Vub/2eMa/Web_engineering_-_Document/Assignments/3/HomelessAngel/HomelessAngel/.Temp~/UpdateSQL.sql'
[24 May 2016 22:25:00] INFO ================================================================================
[24 May 2016 22:25:00] INFO Connecting to the Database...
[24 May 2016 22:25:01] INFO Database connection estabilished
[24 May 2016 22:25:01] INFO transaction isolation: 4
[24 May 2016 22:25:01] DEBUG ================================================================================
[24 May 2016 22:25:01] DEBUG Executing SQL script file: /Users/nicolascarraggi/Documents/Vub/2eMa/Web_engineering_-_Document/Assignments/3/HomelessAngel/HomelessAngel/.Temp~/UpdateSQL.sql
[24 May 2016 22:25:01] DEBUG Executing statement:  create table `group` ( `oid`  integer  not null, `groupname`  varchar(255), primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `module` ( `oid`  integer  not null, `moduleid`  varchar(255), `modulename`  varchar(255), primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `user` ( `oid`  integer  not null, `name`  varchar(255), `password`  varchar(255), `email`  varchar(255), `usertype`  integer, primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `request` ( `oid`  integer  not null, `amount`  integer, `isaccepted`  bit, `requestedon`  datetime, primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `offercategory` ( `oid`  integer  not null, `name`  varchar(255), primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `picture` ( `oid`  integer  not null, `description`  varchar(255), `fileloc`  varchar(255), `title`  varchar(255), primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `deliverymethod` ( `oid`  integer  not null, `name`  varchar(255), primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `rating` ( `oid`  integer  not null, `score`  integer, `comment`  varchar(255), primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `transaction` ( `oid`  integer  not null, `deliverydate`  datetime, `iscompleted`  bit, `requesteddate`  datetime, primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `userprofile` ( `oid`  integer  not null, `birthdate`  date, `isdisabled`  bit, `disabledreason`  bit, `iscancelled`  bit, `cancellationdate`  datetime, `disableddate`  datetime, primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `angel` ( `userprofile_oid`  integer  not null, `profession`  varchar(255), `isanomynous`  bit, `angeloid`  integer, primary key (`userprofile_oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `homelessperson` ( `userprofile_oid`  integer  not null, `nickname`  varchar(255), `locatedincity`  varchar(255), `yearsonstreet`  integer, `homelesspersonoid`  integer, primary key (`userprofile_oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `address` ( `oid`  integer  not null, `street`  varchar(255), `hnumber`  varchar(255), `postalcode`  varchar(255), `city`  varchar(255), `country`  varchar(255), `bus`  varchar(255), primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `notification` ( `oid`  integer  not null, `seendate`  datetime, `seen`  bit, `description`  varchar(255), `notificationtype`  integer, primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `offer` ( `oid`  integer  not null, `isremoved`  bit, `removedreason`  varchar(255), `amount`  integer, `description`  varchar(255), `expirydate`  date, `creationdate`  datetime, primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `offertype` ( `oid`  integer  not null, `name`  varchar(255), primary key (`oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `group`  add column  `module_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `group`   add index fk_group_module (`module_oid`), add constraint fk_group_module foreign key (`module_oid`) references `module` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `group_module` ( `group_oid`  integer not null, `module_oid`  integer not null, primary key (`group_oid`, `module_oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `group_module`   add index fk_group_module_group (`group_oid`), add constraint fk_group_module_group foreign key (`group_oid`) references `group` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `group_module`   add index fk_group_module_module (`module_oid`), add constraint fk_group_module_module foreign key (`module_oid`) references `module` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `user`  add column  `group_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `user`   add index fk_user_group (`group_oid`), add constraint fk_user_group foreign key (`group_oid`) references `group` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    create table `user_group` ( `user_oid`  integer not null, `group_oid`  integer not null, primary key (`user_oid`, `group_oid`) )
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `user_group`   add index fk_user_group_user (`user_oid`), add constraint fk_user_group_user foreign key (`user_oid`) references `user` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `user_group`   add index fk_user_group_group (`group_oid`), add constraint fk_user_group_group foreign key (`group_oid`) references `group` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `transaction`  add column  `address_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `transaction`   add index fk_transaction_address (`address_oid`), add constraint fk_transaction_address foreign key (`address_oid`) references `address` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `offer`  add column  `address_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `offer`   add index fk_offer_address (`address_oid`), add constraint fk_offer_address foreign key (`address_oid`) references `address` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `request`  add column  `homelessperson_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `request`   add index fk_request_homelessperson (`homelessperson_oid`), add constraint fk_request_homelessperson foreign key (`homelessperson_oid`) references `homelessperson` (`userprofile_oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `notification`  add column  `userprofile_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `notification`   add index fk_notification_userprofile (`userprofile_oid`), add constraint fk_notification_userprofile foreign key (`userprofile_oid`) references `userprofile` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `request`  add column  `offer_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `request`   add index fk_request_offer (`offer_oid`), add constraint fk_request_offer foreign key (`offer_oid`) references `offer` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `picture`  add column  `userprofile_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `picture`   add index fk_picture_userprofile (`userprofile_oid`), add constraint fk_picture_userprofile foreign key (`userprofile_oid`) references `userprofile` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `angel`  add column  `address_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `angel`   add index fk_angel_address (`address_oid`), add constraint fk_angel_address foreign key (`address_oid`) references `address` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `offer`  add column  `offercategory_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `offer`   add index fk_offer_offercategory (`offercategory_oid`), add constraint fk_offer_offercategory foreign key (`offercategory_oid`) references `offercategory` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `offer`  add column  `offertype_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `offer`   add index fk_offer_offertype (`offertype_oid`), add constraint fk_offer_offertype foreign key (`offertype_oid`) references `offertype` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `offer`  add column  `deliverymethod_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `offer`   add index fk_offer_deliverymethod (`deliverymethod_oid`), add constraint fk_offer_deliverymethod foreign key (`deliverymethod_oid`) references `deliverymethod` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `userprofile`  add column  `user_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `userprofile`   add index fk_userprofile_user (`user_oid`), add constraint fk_userprofile_user foreign key (`user_oid`) references `user` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `request`  add column  `transaction_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `request`   add index fk_request_transaction (`transaction_oid`), add constraint fk_request_transaction foreign key (`transaction_oid`) references `transaction` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `transaction`  add column  `rating_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `transaction`   add index fk_transaction_rating (`rating_oid`), add constraint fk_transaction_rating foreign key (`rating_oid`) references `rating` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `request`  add column  `notification_oid`  integer
[24 May 2016 22:25:01] DEBUG Executing statement:  alter table `request`   add index fk_request_notification (`notification_oid`), add constraint fk_request_notification foreign key (`notification_oid`) references `notification` (`oid`)
[24 May 2016 22:25:01] DEBUG Executing statement:    alter table `picture`  add column  `offer_oid`  integer
[24 May 2016 22:25:02] DEBUG Executing statement:  alter table `picture`   add index fk_picture_offer (`offer_oid`), add constraint fk_picture_offer foreign key (`offer_oid`) references `offer` (`oid`)
[24 May 2016 22:25:02] DEBUG Executing statement:    alter table `offer`  add column  `angel_oid`  integer
[24 May 2016 22:25:02] DEBUG Executing statement:  alter table `offer`   add index fk_offer_angel (`angel_oid`), add constraint fk_offer_angel foreign key (`angel_oid`) references `angel` (`userprofile_oid`)
[24 May 2016 22:25:02] DEBUG Executing statement:    alter table `angel`   add index fk_angel_userprofile (`userprofile_oid`), add constraint fk_angel_userprofile foreign key (`userprofile_oid`) references `userprofile` (`oid`)
[24 May 2016 22:25:02] DEBUG Executing statement:    alter table `homelessperson`   add index fk_homelessperson_userprofile (`userprofile_oid`), add constraint fk_homelessperson_userprofile foreign key (`userprofile_oid`) references `userprofile` (`oid`)
[24 May 2016 22:25:02] DEBUG Executing statement:    create view `angel_avgrating_view` as select AL1.`userprofile_oid` as `userprofile_oid`, avg(AL5.`score`) as `der_attr` from  `angel` AL1 left outer join `offer` AL2 on AL1.`userprofile_oid`=AL2.`angel_oid` left outer join `request` AL3 on AL2.`oid`=AL3.`offer_oid` left outer join `transaction` AL4 on AL3.`transaction_oid`=AL4.`oid` left outer join `rating` AL5 on AL4.`rating_oid`=AL5.`oid` group by AL1.`userprofile_oid`
[24 May 2016 22:25:02] DEBUG Executing statement:    create view `angel_amtofitemsgivenaway_view` as select AL1.`userprofile_oid` as `userprofile_oid`, sum(AL3.`amount`) as `der_attr` from  `angel` AL1 left outer join `offer` AL2 on AL1.`userprofile_oid`=AL2.`angel_oid` left outer join `request` AL3 on AL2.`oid`=AL3.`offer_oid` where AL3.`isaccepted` = '1' group by AL1.`userprofile_oid`
[24 May 2016 22:25:02] DEBUG ================================================================================
[24 May 2016 22:25:02] DEBUG SQL SCRIPT SUCCESSFULLY EXECUTED
[24 May 2016 22:25:02] INFO Database connection closed
[24 May 2016 22:25:02] DEBUG Total time: 1291 milliseconds
